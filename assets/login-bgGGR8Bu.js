import{d as W,e as le,c as j,u as ve,B as ze,a as i,r as he,m as C,n as R,I as D,p as Y,L as De,w as U,g as Fe,b as ee,t as Q,i as M,f as Oe,h as be,F as ye,j as Ne,k as qe,s as We,l as je,o as Ue,q as He,v as q,x as Ge,y as F,z as ce,A as Ke,C as Je,D as p,E as Ye,G as Qe,H as Xe,J as Ze,K as ue,M as ne,N as ae,O as pe,P as et,Q as tt,R as nt,S as at,T as lt,U as it,V as L,W as J,X as ot,Y as de,Z as rt,_ as st}from"./index-Vp-rgGGv.js";import{_ as ct}from"./plugin-vueexport-helper-DlAUqK2U.js";const[ut,O]=j("button"),dt=le({},he,{tag:C("button"),text:String,icon:String,type:C("default"),size:C("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:C("button"),loadingSize:R,loadingText:String,loadingType:String,iconPosition:C("left")});var ft=W({name:ut,props:dt,emits:["click"],setup(e,{emit:n,slots:o}){const d=ve(),r=()=>o.loading?o.loading():i(De,{size:e.loadingSize,type:e.loadingType,class:O("loading")},null),f=()=>{if(e.loading)return r();if(o.icon)return i("div",{class:O("icon")},[o.icon()]);if(e.icon)return i(D,{name:e.icon,class:O("icon"),classPrefix:e.iconPrefix},null)},I=()=>{let c;if(e.loading?c=e.loadingText:c=o.default?o.default():e.text,c)return i("span",{class:O("text")},[c])},w=()=>{const{color:c,plain:m}=e;if(c){const _={color:m?c:"white"};return m||(_.background=c),c.includes("gradient")?_.border=0:_.borderColor=c,_}},a=c=>{e.loading?Y(c):e.disabled||(n("click",c),d())};return()=>{const{tag:c,type:m,size:_,block:V,round:P,plain:T,square:y,loading:l,disabled:g,hairline:v,nativeType:x,iconPosition:b}=e,H=[O([m,_,{plain:T,block:V,round:P,square:y,loading:l,disabled:g,hairline:v}]),{[ze]:v}];return i(c,{type:x,class:H,style:w(),disabled:g,onClick:a},{default:()=>[i("div",{class:O("content")},[b==="left"&&f(),I(),b==="right"&&f()])]})}}});const gt=U(ft);let mt=0;function vt(){const e=Fe(),{name:n="unknown"}=e?.type||{};return`${n}-${++mt}`}const[ht,N]=j("cell"),Se={tag:C("div"),icon:String,size:String,title:R,value:R,label:R,center:Boolean,isLink:Boolean,border:Q,iconPrefix:String,valueClass:ee,labelClass:ee,titleClass:ee,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},bt=le({},Se,he);var yt=W({name:ht,props:bt,setup(e,{slots:n}){const o=ve(),d=()=>{if(n.label||M(e.label))return i("div",{class:[N("label"),e.labelClass]},[n.label?n.label():e.label])},r=()=>{var a;if(n.title||M(e.title)){const c=(a=n.title)==null?void 0:a.call(n);return Array.isArray(c)&&c.length===0?void 0:i("div",{class:[N("title"),e.titleClass],style:e.titleStyle},[c||i("span",null,[e.title]),d()])}},f=()=>{const a=n.value||n.default;if(a||M(e.value))return i("div",{class:[N("value"),e.valueClass]},[a?a():i("span",null,[e.value])])},I=()=>{if(n.icon)return n.icon();if(e.icon)return i(D,{name:e.icon,class:N("left-icon"),classPrefix:e.iconPrefix},null)},w=()=>{if(n["right-icon"])return n["right-icon"]();if(e.isLink){const a=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return i(D,{name:a,class:N("right-icon")},null)}};return()=>{var a;const{tag:c,size:m,center:_,border:V,isLink:P,required:T}=e,y=(a=e.clickable)!=null?a:P,l={center:_,required:!!T,clickable:y,borderless:!V};return m&&(l[m]=!!m),i(c,{class:N(l),role:y?"button":void 0,tabindex:y?0:void 0,onClick:o},{default:()=>{var g;return[I(),r(),f(),w(),(g=n.extra)==null?void 0:g.call(n)]}})}}});const St=U(yt),[_t,xt]=j("form"),wt={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:R,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:Q,showErrorMessage:Q,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var kt=W({name:_t,props:wt,emits:["submit","failed"],setup(e,{emit:n,slots:o}){const{children:d,linkChildren:r}=Oe(ye),f=l=>l?d.filter(g=>l.includes(g.name)):d,I=l=>new Promise((g,v)=>{const x=[];f(l).reduce((H,G)=>H.then(()=>{if(!x.length)return G.validate().then(K=>{K&&x.push(K)})}),Promise.resolve()).then(()=>{x.length?v(x):g()})}),w=l=>new Promise((g,v)=>{const x=f(l);Promise.all(x.map(b=>b.validate())).then(b=>{b=b.filter(Boolean),b.length?v(b):g()})}),a=l=>{const g=d.find(v=>v.name===l);return g?new Promise((v,x)=>{g.validate().then(b=>{b?x(b):v()})}):Promise.reject()},c=l=>typeof l=="string"?a(l):e.validateFirst?I(l):w(l),m=l=>{typeof l=="string"&&(l=[l]),f(l).forEach(v=>{v.resetValidation()})},_=()=>d.reduce((l,g)=>(l[g.name]=g.getValidationStatus(),l),{}),V=(l,g)=>{d.some(v=>v.name===l?(v.$el.scrollIntoView(g),!0):!1)},P=()=>d.reduce((l,g)=>(g.name!==void 0&&(l[g.name]=g.formValue.value),l),{}),T=()=>{const l=P();c().then(()=>n("submit",l)).catch(g=>{n("failed",{values:l,errors:g});const{scrollToError:v,scrollToErrorPosition:x}=e;v&&g[0].name&&V(g[0].name,x?{block:x}:void 0)})},y=l=>{Y(l),T()};return r({props:e}),be({submit:T,validate:c,getValues:P,scrollToField:V,resetValidation:m,getValidationStatus:_}),()=>{var l;return i("form",{class:xt(),onSubmit:y},[(l=o.default)==null?void 0:l.call(o)])}}});const Vt=U(kt);function _e(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Bt(e,n){if(_e(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function Ct(e,n){return new Promise(o=>{const d=n.validator(e,n);if(Ue(d)){d.then(o);return}o(d)})}function fe(e,n){const{message:o}=n;return je(o)?o(e,n):o||""}function It({target:e}){e.composing=!0}function ge({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Pt(e,n){const o=Ne();e.style.height="auto";let d=e.scrollHeight;if(qe(n)){const{maxHeight:r,minHeight:f}=n;r!==void 0&&(d=Math.min(d,r)),f!==void 0&&(d=Math.max(d,f))}d&&(e.style.height=`${d}px`,We(o))}function Tt(e,n){return e==="number"&&(e="text",n??(n="decimal")),e==="digit"&&(e="tel",n??(n="numeric")),{type:e,inputmode:n}}function A(e){return[...e].length}function te(e,n){return[...e].slice(0,n).join("")}const[Et,k]=j("field"),Lt={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:R,max:Number,min:Number,formatter:Function,clearIcon:C("clear"),modelValue:Ze(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:C("focus"),formatTrigger:C("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},At=le({},Se,Lt,{rows:R,type:C("text"),rules:Array,autosize:[Boolean,Object],labelWidth:R,labelClass:ee,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Mt=W({name:Et,props:At,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:o}){const d=vt(),r=He({status:"unvalidated",focused:!1,validateMessage:""}),f=q(),I=q(),w=q(),{parent:a}=Ge(ye),c=()=>{var t;return String((t=e.modelValue)!=null?t:"")},m=t=>{if(M(e[t]))return e[t];if(a&&M(a.props[t]))return a.props[t]},_=F(()=>{const t=m("readonly");if(e.clearable&&!t){const s=c()!=="",u=e.clearTrigger==="always"||e.clearTrigger==="focus"&&r.focused;return s&&u}return!1}),V=F(()=>w.value&&o.input?w.value():e.modelValue),P=F(()=>{var t;const s=m("required");return s==="auto"?(t=e.rules)==null?void 0:t.some(u=>u.required):s}),T=t=>t.reduce((s,u)=>s.then(()=>{if(r.status==="failed")return;let{value:h}=V;if(u.formatter&&(h=u.formatter(h,u)),!Bt(h,u)){r.status="failed",r.validateMessage=fe(h,u);return}if(u.validator)return _e(h)&&u.validateEmpty===!1?void 0:Ct(h,u).then(S=>{S&&typeof S=="string"?(r.status="failed",r.validateMessage=S):S===!1&&(r.status="failed",r.validateMessage=fe(h,u))})}),Promise.resolve()),y=()=>{r.status="unvalidated",r.validateMessage=""},l=()=>n("endValidate",{status:r.status,message:r.validateMessage}),g=(t=e.rules)=>new Promise(s=>{y(),t?(n("startValidate"),T(t).then(()=>{r.status==="failed"?(s({name:e.name,message:r.validateMessage}),l()):(r.status="passed",s(),l())})):s()}),v=t=>{if(a&&e.rules){const{validateTrigger:s}=a.props,u=ue(s).includes(t),h=e.rules.filter(S=>S.trigger?ue(S.trigger).includes(t):u);h.length&&g(h)}},x=t=>{var s;const{maxlength:u}=e;if(M(u)&&A(t)>+u){const h=c();if(h&&A(h)===+u)return h;const S=(s=f.value)==null?void 0:s.selectionEnd;if(r.focused&&S){const $=[...t],z=$.length-+u;return $.splice(S-z,z),$.join("")}return te(t,+u)}return t},b=(t,s="onChange")=>{var u,h;const S=t;t=x(t);const $=A(S)-A(t);if(e.type==="number"||e.type==="digit"){const E=e.type==="number";if(t=Qe(t,E,E),s==="onBlur"&&t!==""&&(e.min!==void 0||e.max!==void 0)){const B=Xe(+t,(u=e.min)!=null?u:-1/0,(h=e.max)!=null?h:1/0);+t!==B&&(t=B.toString())}}let z=0;if(e.formatter&&s===e.formatTrigger){const{formatter:E,maxlength:B}=e;if(t=E(t),M(B)&&A(t)>+B&&(t=te(t,+B)),f.value&&r.focused){const{selectionEnd:Z}=f.value,se=te(S,Z);z=A(E(se))-A(se)}}if(f.value&&f.value.value!==t)if(r.focused){let{selectionStart:E,selectionEnd:B}=f.value;if(f.value.value=t,M(E)&&M(B)){const Z=A(t);$?(E-=$,B-=$):z&&(E+=z,B+=z),f.value.setSelectionRange(Math.min(E,Z),Math.min(B,Z))}}else f.value.value=t;t!==e.modelValue&&n("update:modelValue",t)},H=t=>{t.target.composing||b(t.target.value)},G=()=>{var t;return(t=f.value)==null?void 0:t.blur()},K=()=>{var t;return(t=f.value)==null?void 0:t.focus()},X=()=>{const t=f.value;e.type==="textarea"&&e.autosize&&t&&Pt(t,e.autosize)},xe=t=>{r.focused=!0,n("focus",t),p(X),m("readonly")&&G()},we=t=>{r.focused=!1,b(c(),"onBlur"),n("blur",t),!m("readonly")&&(v("onBlur"),p(X),pe())},ie=t=>n("clickInput",t),ke=t=>n("clickLeftIcon",t),Ve=t=>n("clickRightIcon",t),Be=t=>{Y(t),n("update:modelValue",""),n("clear",t)},oe=F(()=>{if(typeof e.error=="boolean")return e.error;if(a&&a.props.showError&&r.status==="failed")return!0}),Ce=F(()=>{const t=m("labelWidth"),s=m("labelAlign");if(t&&s!=="top")return{width:ce(t)}}),Ie=t=>{t.keyCode===13&&(!(a&&a.props.submitOnEnter)&&e.type!=="textarea"&&Y(t),e.type==="search"&&G()),n("keypress",t)},re=()=>e.id||`${d}-input`,Pe=()=>r.status,Te=()=>{const t=k("control",[m("inputAlign"),{error:oe.value,custom:!!o.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(o.input)return i("div",{class:t,onClick:ie},[o.input()]);const s={id:re(),ref:f,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:m("disabled"),readonly:m("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${d}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:we,onFocus:xe,onInput:H,onClick:ie,onChange:ge,onKeypress:Ie,onCompositionend:ge,onCompositionstart:It};return e.type==="textarea"?i("textarea",ae(s,{inputmode:e.inputmode}),null):i("input",ae(Tt(e.type,e.inputmode),s),null)},Ee=()=>{const t=o["left-icon"];if(e.leftIcon||t)return i("div",{class:k("left-icon"),onClick:ke},[t?t():i(D,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Le=()=>{const t=o["right-icon"];if(e.rightIcon||t)return i("div",{class:k("right-icon"),onClick:Ve},[t?t():i(D,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Ae=()=>{if(e.showWordLimit&&e.maxlength){const t=A(c());return i("div",{class:k("word-limit")},[i("span",{class:k("word-num")},[t]),ne("/"),e.maxlength])}},Me=()=>{if(a&&a.props.showErrorMessage===!1)return;const t=e.errorMessage||r.validateMessage;if(t){const s=o["error-message"],u=m("errorMessageAlign");return i("div",{class:k("error-message",u)},[s?s({message:t}):t])}},Re=()=>{const t=m("labelWidth"),s=m("labelAlign"),u=m("colon")?":":"";if(o.label)return[o.label(),u];if(e.label)return i("label",{id:`${d}-label`,for:o.input?void 0:re(),"data-allow-mismatch":"attribute",onClick:h=>{Y(h),K()},style:s==="top"&&t?{width:ce(t)}:void 0},[e.label+u])},$e=()=>[i("div",{class:k("body")},[Te(),_.value&&i(D,{ref:I,name:e.clearIcon,class:k("clear")},null),Le(),o.button&&i("div",{class:k("button")},[o.button()])]),Ae(),Me()];return be({blur:G,focus:K,validate:g,formValue:V,resetValidation:y,getValidationStatus:Pe}),et(tt,{customValue:w,resetValidation:y,validateWithTrigger:v}),Ke(()=>e.modelValue,()=>{b(c()),y(),v("onChange"),p(X)}),Je(()=>{b(c(),e.formatTrigger),p(X)}),Ye("touchstart",Be,{target:F(()=>{var t;return(t=I.value)==null?void 0:t.$el})}),()=>{const t=m("disabled"),s=m("labelAlign"),u=Ee(),h=()=>{const S=Re();return s==="top"?[u,S].filter(Boolean):S||[]};return i(St,{size:e.size,class:k({error:oe.value,disabled:t,[`label-${s}`]:s}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Ce.value,valueClass:k("value"),titleClass:[k("label",[s,{required:P.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:u&&s!=="top"?()=>u:null,title:h,value:$e,extra:o.extra})}}});const Rt=U(Mt),[$t,me]=j("cell-group"),zt={title:String,inset:Boolean,border:Q};var Dt=W({name:$t,inheritAttrs:!1,props:zt,setup(e,{slots:n,attrs:o}){const d=()=>{var f;return i("div",ae({class:[me({inset:e.inset}),{[lt]:e.border&&!e.inset}]},o,at()),[(f=n.default)==null?void 0:f.call(n)])},r=()=>i("div",{class:me("title",{inset:e.inset})},[n.title?n.title():e.title]);return()=>e.title||n.title?i(nt,null,[r(),d()]):d()}});const Ft=U(Dt),[Ot,Nt]=j("divider"),qt={dashed:Boolean,hairline:Q,vertical:Boolean,contentPosition:C("center")};var Wt=W({name:Ot,props:qt,setup(e,{slots:n}){return()=>{var o;return i("div",{role:"separator",class:Nt({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,[`content-${e.contentPosition}`]:!!n.default&&!e.vertical})},[!e.vertical&&((o=n.default)==null?void 0:o.call(n))])}}});const jt=U(Wt),Ut={class:"login-container"},Ht={class:"login-header"},Gt={style:{margin:"16px"}},Kt={class:"login-footer"},Jt={class:"social-login"},Yt={__name:"login",setup(e){const n=rt(),o=q(""),d=q(""),r=q(!1),f={username:"zhaoxx",password:"123456"},I=()=>{r.value=!0,setTimeout(()=>{if(o.value===f.username&&d.value===f.password){const w={isAuthenticated:!0,timestamp:Date.now()};localStorage.setItem("authData",JSON.stringify(w)),de("登录成功"),n.push("/Home")}else de("账号或密码错误");r.value=!1},1e3)};return(w,a)=>{const c=ot,m=Rt,_=Ft,V=gt,P=Vt,T=jt,y=D;return st(),it("div",Ut,[a[6]||(a[6]=L("div",{class:"decoration-circle circle-1"},null,-1)),a[7]||(a[7]=L("div",{class:"decoration-circle circle-2"},null,-1)),i(_,{inset:"",class:"login-card"},{default:J(()=>[L("div",Ht,[i(c,{width:"80",height:"80",src:"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg",round:""}),a[2]||(a[2]=L("h2",null,"欢迎回来",-1)),a[3]||(a[3]=L("p",null,"请输入您的账号密码登录系统",-1))]),i(P,{onSubmit:I},{default:J(()=>[i(_,{inset:""},{default:J(()=>[i(m,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=l=>o.value=l),name:"username",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}],"left-icon":"user-o"},null,8,["modelValue"]),i(m,{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=l=>d.value=l),type:"password",name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}],"left-icon":"lock"},null,8,["modelValue"])]),_:1}),L("div",Gt,[i(V,{round:"",block:"",type:"primary","native-type":"submit",loading:r.value},{default:J(()=>a[4]||(a[4]=[ne(" 登录 ")])),_:1,__:[4]},8,["loading"])])]),_:1}),L("div",Kt,[i(T,null,{default:J(()=>a[5]||(a[5]=[ne("其他登录方式")])),_:1,__:[5]}),L("div",Jt,[i(y,{name:"wechat",color:"#07C160",size:"24"}),i(y,{name:"alipay",color:"#1677FF",size:"24"}),i(y,{name:"weibo",color:"#FF2442",size:"24"})])])]),_:1}),a[8]||(a[8]=L("div",{class:"copyright"},"© 2024 个人项目",-1))])}}},Zt=ct(Yt,[["__scopeId","data-v-09023ae4"]]);export{Zt as default};
