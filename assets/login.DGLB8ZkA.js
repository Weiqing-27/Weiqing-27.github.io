import{d as D,e as oe,c as j,u as De,B as je,a as l,r as We,m as x,n as z,I as q,p as J,L as Se,w as W,g as ke,t as ne,b as Ue,f as we,F as Ce,h as He,i as _e,s as Ge,j as Ke,k as Ye,l as Je,o as $,q as Qe,v as N,x as fe,y as ae,z as xe,A as ee,C as Xe,D as R,E as Ze,G as et,H as tt,J as ie,K as ge,M as re,N as Q,O as nt,P as at,Q as ot,R as lt,S as it,T as rt,U as st,V as ct,W as ut,X as dt,Y as ft,Z as gt,_ as O,$ as K,a0 as mt,a1 as vt,a2 as ht}from"./index.9BKnwyVk.js";import{_ as bt}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{C as yt,c as St,m as kt,u as wt}from"./mount-component.BklA2WGq.js";const[Ct,F]=j("button"),_t=oe({},We,{tag:x("button"),text:String,icon:String,type:x("default"),size:x("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:x("button"),loadingSize:z,loadingText:String,loadingType:String,iconPosition:x("left")});var xt=D({name:Ct,props:_t,emits:["click"],setup(e,{emit:n,slots:a}){const s=De(),i=()=>a.loading?a.loading():l(Se,{size:e.loadingSize,type:e.loadingType,class:F("loading")},null),c=()=>{if(e.loading)return i();if(a.icon)return l("div",{class:F("icon")},[a.icon()]);if(e.icon)return l(q,{name:e.icon,class:F("icon"),classPrefix:e.iconPrefix},null)},C=()=>{let f;if(e.loading?f=e.loadingText:f=a.default?a.default():e.text,f)return l("span",{class:F("text")},[f])},I=()=>{const{color:f,plain:m}=e;if(f){const v={color:m?f:"white"};return m||(v.background=f),f.includes("gradient")?v.border=0:v.borderColor=f,v}},r=f=>{e.loading?J(f):e.disabled||(n("click",f),s())};return()=>{const{tag:f,type:m,size:v,block:y,round:P,plain:V,square:_,loading:o,disabled:g,hairline:h,nativeType:w,iconPosition:S}=e,U=[F([m,v,{plain:V,block:y,round:P,square:_,loading:o,disabled:g,hairline:h}]),{[je]:h}];return l(f,{type:w,class:U,style:I(),disabled:g,onClick:r},{default:()=>[l("div",{class:F("content")},[S==="left"&&c(),C(),S==="right"&&c()])]})}}});const It=W(xt);let Bt=0;function Pt(){const e=ke(),{name:n="unknown"}=e?.type||{};return`${n}-${++Bt}`}const[Tt,Vt]=j("form"),Et={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:z,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:ne,showErrorMessage:ne,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var Ot=D({name:Tt,props:Et,emits:["submit","failed"],setup(e,{emit:n,slots:a}){const{children:s,linkChildren:i}=Ue(Ce),c=o=>o?s.filter(g=>o.includes(g.name)):s,C=o=>new Promise((g,h)=>{const w=[];c(o).reduce((U,H)=>U.then(()=>{if(!w.length)return H.validate().then(G=>{G&&w.push(G)})}),Promise.resolve()).then(()=>{w.length?h(w):g()})}),I=o=>new Promise((g,h)=>{const w=c(o);Promise.all(w.map(S=>S.validate())).then(S=>{S=S.filter(Boolean),S.length?h(S):g()})}),r=o=>{const g=s.find(h=>h.name===o);return g?new Promise((h,w)=>{g.validate().then(S=>{S?w(S):h()})}):Promise.reject()},f=o=>typeof o=="string"?r(o):e.validateFirst?C(o):I(o),m=o=>{typeof o=="string"&&(o=[o]),c(o).forEach(h=>{h.resetValidation()})},v=()=>s.reduce((o,g)=>(o[g.name]=g.getValidationStatus(),o),{}),y=(o,g)=>{s.some(h=>h.name===o?(h.$el.scrollIntoView(g),!0):!1)},P=()=>s.reduce((o,g)=>(g.name!==void 0&&(o[g.name]=g.formValue.value),o),{}),V=()=>{const o=P();f().then(()=>n("submit",o)).catch(g=>{n("failed",{values:o,errors:g});const{scrollToError:h,scrollToErrorPosition:w}=e;h&&g[0].name&&y(g[0].name,w?{block:w}:void 0)})},_=o=>{J(o),V()};return i({props:e}),we({submit:V,validate:f,getValues:P,scrollToField:y,resetValidation:m,getValidationStatus:v}),()=>{var o;return l("form",{class:Vt(),onSubmit:_},[(o=a.default)==null?void 0:o.call(a)])}}});const Mt=W(Ot);function Ie(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function zt(e,n){if(Ie(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function At(e,n){return new Promise(a=>{const s=n.validator(e,n);if(Ye(s)){s.then(a);return}a(s)})}function me(e,n){const{message:a}=n;return Ke(a)?a(e,n):a||""}function Lt({target:e}){e.composing=!0}function ve({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Rt(e,n){const a=He();e.style.height="auto";let s=e.scrollHeight;if(_e(n)){const{maxHeight:i,minHeight:c}=n;i!==void 0&&(s=Math.min(s,i)),c!==void 0&&(s=Math.max(s,c))}s&&(e.style.height=`${s}px`,Ge(a))}function $t(e,n){return e==="number"&&(e="text",n??(n="decimal")),e==="digit"&&(e="tel",n??(n="numeric")),{type:e,inputmode:n}}function M(e){return[...e].length}function le(e,n){return[...e].slice(0,n).join("")}const[Nt,B]=j("field"),Ft={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:z,max:Number,min:Number,formatter:Function,clearIcon:x("clear"),modelValue:tt(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:x("focus"),formatTrigger:x("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},pt=oe({},St,Ft,{rows:z,type:x("text"),rules:Array,autosize:[Boolean,Object],labelWidth:z,labelClass:ie,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var qt=D({name:Nt,props:pt,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:a}){const s=Pt(),i=Je({status:"unvalidated",focused:!1,validateMessage:""}),c=$(),C=$(),I=$(),{parent:r}=Qe(Ce),f=()=>{var t;return String((t=e.modelValue)!=null?t:"")},m=t=>{if(R(e[t]))return e[t];if(r&&R(r.props[t]))return r.props[t]},v=N(()=>{const t=m("readonly");if(e.clearable&&!t){const u=f()!=="",d=e.clearTrigger==="always"||e.clearTrigger==="focus"&&i.focused;return u&&d}return!1}),y=N(()=>I.value&&a.input?I.value():e.modelValue),P=N(()=>{var t;const u=m("required");return u==="auto"?(t=e.rules)==null?void 0:t.some(d=>d.required):u}),V=t=>t.reduce((u,d)=>u.then(()=>{if(i.status==="failed")return;let{value:b}=y;if(d.formatter&&(b=d.formatter(b,d)),!zt(b,d)){i.status="failed",i.validateMessage=me(b,d);return}if(d.validator)return Ie(b)&&d.validateEmpty===!1?void 0:At(b,d).then(k=>{k&&typeof k=="string"?(i.status="failed",i.validateMessage=k):k===!1&&(i.status="failed",i.validateMessage=me(b,d))})}),Promise.resolve()),_=()=>{i.status="unvalidated",i.validateMessage=""},o=()=>n("endValidate",{status:i.status,message:i.validateMessage}),g=(t=e.rules)=>new Promise(u=>{_(),t?(n("startValidate"),V(t).then(()=>{i.status==="failed"?(u({name:e.name,message:i.validateMessage}),o()):(i.status="passed",u(),o())})):u()}),h=t=>{if(r&&e.rules){const{validateTrigger:u}=r.props,d=ge(u).includes(t),b=e.rules.filter(k=>k.trigger?ge(k.trigger).includes(t):d);b.length&&g(b)}},w=t=>{var u;const{maxlength:d}=e;if(R(d)&&M(t)>+d){const b=f();if(b&&M(b)===+d)return b;const k=(u=c.value)==null?void 0:u.selectionEnd;if(i.focused&&k){const A=[...t],L=A.length-+d;return A.splice(k-L,L),A.join("")}return le(t,+d)}return t},S=(t,u="onChange")=>{var d,b;const k=t;t=w(t);const A=M(k)-M(t);if(e.type==="number"||e.type==="digit"){const E=e.type==="number";if(t=Ze(t,E,E),u==="onBlur"&&t!==""&&(e.min!==void 0||e.max!==void 0)){const T=et(+t,(d=e.min)!=null?d:-1/0,(b=e.max)!=null?b:1/0);+t!==T&&(t=T.toString())}}let L=0;if(e.formatter&&u===e.formatTrigger){const{formatter:E,maxlength:T}=e;if(t=E(t),R(T)&&M(t)>+T&&(t=le(t,+T)),c.value&&i.focused){const{selectionEnd:Z}=c.value,de=le(k,Z);L=M(E(de))-M(de)}}if(c.value&&c.value.value!==t)if(i.focused){let{selectionStart:E,selectionEnd:T}=c.value;if(c.value.value=t,R(E)&&R(T)){const Z=M(t);A?(E-=A,T-=A):L&&(E+=L,T+=L),c.value.setSelectionRange(Math.min(E,Z),Math.min(T,Z))}}else c.value.value=t;t!==e.modelValue&&n("update:modelValue",t)},U=t=>{t.target.composing||S(t.target.value)},H=()=>{var t;return(t=c.value)==null?void 0:t.blur()},G=()=>{var t;return(t=c.value)==null?void 0:t.focus()},X=()=>{const t=c.value;e.type==="textarea"&&e.autosize&&t&&Rt(t,e.autosize)},Pe=t=>{i.focused=!0,n("focus",t),ee(X),m("readonly")&&H()},Te=t=>{i.focused=!1,S(f(),"onBlur"),n("blur",t),!m("readonly")&&(h("onBlur"),ee(X),nt())},se=t=>n("clickInput",t),Ve=t=>n("clickLeftIcon",t),Ee=t=>n("clickRightIcon",t),Oe=t=>{J(t),n("update:modelValue",""),n("clear",t)},ce=N(()=>{if(typeof e.error=="boolean")return e.error;if(r&&r.props.showError&&i.status==="failed")return!0}),Me=N(()=>{const t=m("labelWidth"),u=m("labelAlign");if(t&&u!=="top")return{width:fe(t)}}),ze=t=>{t.keyCode===13&&(!(r&&r.props.submitOnEnter)&&e.type!=="textarea"&&J(t),e.type==="search"&&H()),n("keypress",t)},ue=()=>e.id||`${s}-input`,Ae=()=>i.status,Le=()=>{const t=B("control",[m("inputAlign"),{error:ce.value,custom:!!a.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(a.input)return l("div",{class:t,onClick:se},[a.input()]);const u={id:ue(),ref:c,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:m("disabled"),readonly:m("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${s}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:Te,onFocus:Pe,onInput:U,onClick:se,onChange:ve,onKeypress:ze,onCompositionend:ve,onCompositionstart:Lt};return e.type==="textarea"?l("textarea",Q(u,{inputmode:e.inputmode}),null):l("input",Q($t(e.type,e.inputmode),u),null)},Re=()=>{const t=a["left-icon"];if(e.leftIcon||t)return l("div",{class:B("left-icon"),onClick:Ve},[t?t():l(q,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},$e=()=>{const t=a["right-icon"];if(e.rightIcon||t)return l("div",{class:B("right-icon"),onClick:Ee},[t?t():l(q,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Ne=()=>{if(e.showWordLimit&&e.maxlength){const t=M(f());return l("div",{class:B("word-limit")},[l("span",{class:B("word-num")},[t]),re("/"),e.maxlength])}},Fe=()=>{if(r&&r.props.showErrorMessage===!1)return;const t=e.errorMessage||i.validateMessage;if(t){const u=a["error-message"],d=m("errorMessageAlign");return l("div",{class:B("error-message",d)},[u?u({message:t}):t])}},pe=()=>{const t=m("labelWidth"),u=m("labelAlign"),d=m("colon")?":":"";if(a.label)return[a.label(),d];if(e.label)return l("label",{id:`${s}-label`,for:a.input?void 0:ue(),"data-allow-mismatch":"attribute",onClick:b=>{J(b),G()},style:u==="top"&&t?{width:fe(t)}:void 0},[e.label+d])},qe=()=>[l("div",{class:B("body")},[Le(),v.value&&l(q,{ref:C,name:e.clearIcon,class:B("clear")},null),$e(),a.button&&l("div",{class:B("button")},[a.button()])]),Ne(),Fe()];return we({blur:H,focus:G,validate:g,formValue:y,resetValidation:_,getValidationStatus:Ae}),at(ot,{customValue:I,resetValidation:_,validateWithTrigger:h}),ae(()=>e.modelValue,()=>{S(f()),_(),h("onChange"),ee(X)}),xe(()=>{S(f(),e.formatTrigger),ee(X)}),Xe("touchstart",Oe,{target:N(()=>{var t;return(t=C.value)==null?void 0:t.$el})}),()=>{const t=m("disabled"),u=m("labelAlign"),d=Re(),b=()=>{const k=pe();return u==="top"?[d,k].filter(Boolean):k||[]};return l(yt,{size:e.size,class:B({error:ce.value,disabled:t,[`label-${u}`]:u}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Me.value,valueClass:B("value"),titleClass:[B("label",[u,{required:P.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:d&&u!=="top"?()=>d:null,title:b,value:qe,extra:a.extra})}}});const Dt=W(qt);let Y=0;function jt(e){e?(Y||document.body.classList.add("van-toast--unclickable"),Y++):Y&&(Y--,Y||document.body.classList.remove("van-toast--unclickable"))}const[Wt,p]=j("toast"),Ut=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Ht={icon:String,show:Boolean,type:x("text"),overlay:Boolean,message:z,iconSize:z,duration:lt(2e3),position:x("middle"),teleport:[String,Object],wordBreak:String,className:ie,iconPrefix:String,transition:x("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:ie,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:z};var Be=D({name:Wt,props:Ht,emits:["update:show"],setup(e,{emit:n,slots:a}){let s,i=!1;const c=()=>{const v=e.show&&e.forbidClick;i!==v&&(i=v,jt(i))},C=v=>n("update:show",v),I=()=>{e.closeOnClick&&C(!1)},r=()=>clearTimeout(s),f=()=>{const{icon:v,type:y,iconSize:P,iconPrefix:V,loadingType:_}=e;if(v||y==="success"||y==="fail")return l(q,{name:v||y,size:P,class:p("icon"),classPrefix:V},null);if(y==="loading")return l(Se,{class:p("loading"),size:P,type:_},null)},m=()=>{const{type:v,message:y}=e;if(a.message)return l("div",{class:p("text")},[a.message()]);if(R(y)&&y!=="")return v==="html"?l("div",{key:0,class:p("text"),innerHTML:String(y)},null):l("div",{class:p("text")},[y])};return ae(()=>[e.show,e.forbidClick],c),ae(()=>[e.show,e.type,e.message,e.duration],()=>{r(),e.show&&e.duration>0&&(s=setTimeout(()=>{C(!1)},e.duration))}),xe(c),it(c),()=>l(st,Q({class:[p([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:I,onClosed:r,"onUpdate:show":C},rt(e,Ut)),{default:()=>[f(),m()]})}});const Gt={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let te=[],Kt=!1,he=oe({},Gt);const Yt=new Map;function Jt(e){return _e(e)?e:{message:e}}function Qt(){const{instance:e}=kt({setup(){const n=$(""),{open:a,state:s,close:i,toggle:c}=wt(),C=()=>{},I=()=>l(Be,Q(s,{onClosed:C,"onUpdate:show":c}),null);return ae(n,r=>{s.message=r}),ke().render=I,{open:a,close:i,message:n}}});return e}function Xt(){if(!te.length||Kt){const e=Qt();te.push(e)}return te[te.length-1]}function be(e={}){if(!ct)return{};const n=Xt(),a=Jt(e);return n.open(oe({},he,Yt.get(a.type||he.type),a)),n}W(Be);const[Zt,ye]=j("cell-group"),en={title:String,inset:Boolean,border:ne};var tn=D({name:Zt,inheritAttrs:!1,props:en,setup(e,{slots:n,attrs:a}){const s=()=>{var c;return l("div",Q({class:[ye({inset:e.inset}),{[ft]:e.border&&!e.inset}]},a,dt()),[(c=n.default)==null?void 0:c.call(n)])},i=()=>l("div",{class:ye("title",{inset:e.inset})},[n.title?n.title():e.title]);return()=>e.title||n.title?l(ut,null,[i(),s()]):s()}});const nn=W(tn),[an,on]=j("divider"),ln={dashed:Boolean,hairline:ne,vertical:Boolean,contentPosition:x("center")};var rn=D({name:an,props:ln,setup(e,{slots:n}){return()=>{var a;return l("div",{role:"separator",class:on({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,[`content-${e.contentPosition}`]:!!n.default&&!e.vertical})},[!e.vertical&&((a=n.default)==null?void 0:a.call(n))])}}});const sn=W(rn),cn={class:"login-container"},un={class:"login-header"},dn={style:{margin:"16px"}},fn={class:"login-footer"},gn={class:"social-login"},mn={__name:"login",setup(e){const n=vt(),a=$(""),s=$(""),i=$(!1),c={username:"zhaoxx",password:"123456"},C=()=>{i.value=!0,setTimeout(()=>{a.value===c.username&&s.value===c.password?(be("登录成功"),localStorage.setItem("isAuthenticated","true"),n.push("/Home")):be("账号或密码错误"),i.value=!1},1e3)};return(I,r)=>{const f=mt,m=Dt,v=nn,y=It,P=Mt,V=sn,_=q;return ht(),gt("div",cn,[r[6]||(r[6]=O("div",{class:"decoration-circle circle-1"},null,-1)),r[7]||(r[7]=O("div",{class:"decoration-circle circle-2"},null,-1)),l(v,{inset:"",class:"login-card"},{default:K(()=>[O("div",un,[l(f,{width:"80",height:"80",src:"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg",round:""}),r[2]||(r[2]=O("h2",null,"欢迎回来",-1)),r[3]||(r[3]=O("p",null,"请输入您的账号密码登录系统",-1))]),l(P,{onSubmit:C},{default:K(()=>[l(v,{inset:""},{default:K(()=>[l(m,{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=o=>a.value=o),name:"username",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}],"left-icon":"user-o"},null,8,["modelValue"]),l(m,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=o=>s.value=o),type:"password",name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}],"left-icon":"lock"},null,8,["modelValue"])]),_:1}),O("div",dn,[l(y,{round:"",block:"",type:"primary","native-type":"submit",loading:i.value},{default:K(()=>r[4]||(r[4]=[re(" 登录 ")])),_:1,__:[4]},8,["loading"])])]),_:1}),O("div",fn,[l(V,null,{default:K(()=>r[5]||(r[5]=[re("其他登录方式")])),_:1,__:[5]}),O("div",gn,[l(_,{name:"wechat",color:"#07C160",size:"24"}),l(_,{name:"alipay",color:"#1677FF",size:"24"}),l(_,{name:"weibo",color:"#FF2442",size:"24"})])])]),_:1}),r[8]||(r[8]=O("div",{class:"copyright"},"© 2024 个人项目",-1))])}}},yn=bt(mn,[["__scopeId","data-v-93657c4a"]]);export{yn as default};
